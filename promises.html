<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //1
/*A promise object has a state that can be one of the following:

1)Pending
2)Fulfilled with a value
3)Rejected for a reason
In the beginning, the state of a promise is pending, indicating that the asynchronous operation is 
in progress. Depending on the result of the asynchronous operation, the state changes to either fulfilled or rejected.

The fulfilled state indicates that the asynchronous operation was completed successfully:
The rejected state indicates that the asynchronous operation failed.
*/



        //2
        let func=(text)=>{
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    let result = text.toLowerCase();
                    resolve(result);
                },5000);
            });
        }

        func('BEAUTIFUL CODE').then((result)=>{
            console.log('Resolved :'+result);
        }).catch((error)=>{
            console.log('error')});

        //3    
        /*PROMISE CHAINING:Sometimes, you want to execute two or more related asynchronous operations, 
        where the next operation starts with the result from the previous step*/


        /*EXAMPLE
        
        function generateNumber(num) {
             return new Promise((resolve, reject) => {
             setTimeout(() => {
               resolve(num);
             }, 3 * 1000);
  });
}

        generateNumber(10)
        .then((result) => {
        console.log(result);
        return generateNumber(result * 2);
  })
        .then((result) => {
        console.log(result);
        return generateNumber(result * 3);
  })
        .then((result) => console.log(result));

        */
        const func2=(text)=>{
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    let result = text.toLowerCase();
                    resolve(result);
                },5000);
            });
        }

        func2('BEAUTIFUL CODE').then((result)=>{
            return result;
        }).then((name)=>{
            console.log(`${name}-${name.length}`);
        }).catch((error)=>{
            console.log('error')});

    </script>
</body>
</html>